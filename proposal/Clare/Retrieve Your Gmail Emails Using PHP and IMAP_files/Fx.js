(function(){function e(e){return/^(?:body|html)$/i.test(e.tagName)}Fx.Scroll=new Class({Extends:Fx,options:{offset:{x:0,y:0},wheelStops:!0},initialize:function(e,t){var n,r;this.element=this.subject=document.id(e),this.parent(t),typeOf(this.element)!="element"&&(this.element=document.id(this.element.getDocument().body)),this.options.wheelStops&&(n=this.element,r=this.cancel.pass(!1,this),this.addEvent("start",function(){n.addEvent("mousewheel",r)},!0),this.addEvent("complete",function(){n.removeEvent("mousewheel",r)},!0))},set:function(){var e=Array.flatten(arguments);return Browser.firefox&&(e=[Math.round(e[0]),Math.round(e[1])]),this.element.scrollTo(e[0],e[1]),this},compute:function(e,t,n){return[0,1].map(function(r){return Fx.compute(e[r],t[r],n)})},start:function(e,t){var n;return this.check(e,t)?(n=this.element.getScroll(),this.parent([n.x,n.y],[e,t])):this},calculateScroll:function(e,t){var z,n=this.element,r=n.getScrollSize(),i=n.getScroll(),s=n.getSize(),o=this.options.offset,u={x:e,y:t};for(z in u)!u[z]&&u[z]!==0&&(u[z]=i[z]),typeOf(u[z])!="number"&&(u[z]=r[z]-s[z]),u[z]+=o[z];return[u.x,u.y]},toTop:function(){return this.start.apply(this,this.calculateScroll(!1,0))},toLeft:function(){return this.start.apply(this,this.calculateScroll(0,!1))},toRight:function(){return this.start.apply(this,this.calculateScroll("right",!1))},toBottom:function(){return this.start.apply(this,this.calculateScroll(!1,"bottom"))},toElement:function(t,n){var r,i;return n=n?Array.from(n):["x","y"],r=e(this.element)?{x:0,y:0}:this.element.getScroll(),i=Object.map(document.id(t).getPosition(this.element),function(e,t){return n.contains(t)?e+r[t]:!1}),this.start.apply(this,this.calculateScroll(i.x,i.y))},toElementEdge:function(e,t,n){var r,i,s,o,u,a;return t=t?Array.from(t):["x","y"],e=document.id(e),r={},i=e.getPosition(this.element),s=e.getSize(),o=this.element.getScroll(),u=this.element.getSize(),a={x:i.x+s.x,y:i.y+s.y},["x","y"].each(function(e){t.contains(e)&&(a[e]>o[e]+u[e]&&(r[e]=a[e]-u[e]),i[e]<o[e]&&(r[e]=i[e])),r[e]==null&&(r[e]=o[e]),n&&n[e]&&(r[e]=r[e]+n[e])},this),(r.x!=o.x||r.y!=o.y)&&this.start(r.x,r.y),this},toElementCenter:function(e,t,n){var r,i,s,o,u;return t=t?Array.from(t):["x","y"],e=document.id(e),r={},i=e.getPosition(this.element),s=e.getSize(),o=this.element.getScroll(),u=this.element.getSize(),["x","y"].each(function(e){t.contains(e)&&(r[e]=i[e]-(u[e]-s[e])/2),r[e]==null&&(r[e]=o[e]),n&&n[e]&&(r[e]=r[e]+n[e])},this),(r.x!=o.x||r.y!=o.y)&&this.start(r.x,r.y),this}})})();